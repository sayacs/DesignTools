<!DOCTYPE html>
<html lang="en" class="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Carton Label Generator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
      body {
        background-color: #1a202c;
        color: #e2e8f0;
        font-family: Arial, sans-serif;
      }
      label {
        margin-top: 1rem;
        display: block;
        font-weight: 600;
      }
      input {
        background-color: #2d3748;
        color: white;
        padding: 0.5rem;
        border-radius: 0.375rem;
        width: 100%;
      }
      button {
        background-color: #4a5568;
        padding: 0.75rem 1.5rem;
        border-radius: 0.375rem;
        margin-top: 2rem;
      }
    </style>
  </head>
  <body class="p-8">
    <div class="max-w-xl mx-auto">
      <h1 class="text-2xl font-bold mb-6">Carton Label Generator</h1>

      <label for="labelWidth">Label Width (mm):</label>
      <input type="number" id="labelWidth" placeholder="e.g. 100" />

      <label for="labelHeight">Label Height (mm):</label>
      <input type="number" id="labelHeight" placeholder="e.g. 60" />

      <label for="productName">Product Name:</label>
      <input type="text" id="productName" placeholder="e.g. myFirst Fone" />

      <label for="color">Color:</label>
      <input type="text" id="color" placeholder="e.g. Blue" />

      <label for="bn">BN:</label>
      <input type="text" id="bn" placeholder="e.g. 12345678" />

      <button onclick="generatePDF()">Download PDF</button>
    </div>

    <script>
      window.onload = () => {
        const { jsPDF } = window.jspdf;

        window.generatePDF = function () {
          const W = parseFloat(document.getElementById('labelWidth').value);
          const H = parseFloat(document.getElementById('labelHeight').value);
          const productName = document.getElementById('productName').value;
          const color = document.getElementById('color').value;
          const bn = document.getElementById('bn').value;

          if (isNaN(W) || isNaN(H) || !productName || !color || !bn) {
            alert("Please fill in all fields correctly.");
            return;
          }

          const margin = 50;
            const pageWidth = W + margin * 2;
            const pageHeight = H + margin * 2;

            const doc = new jsPDF({
            unit: 'mm',
            format: [pageWidth, pageHeight]
            });

            const labelX = margin;
            const labelY = margin;
            const centerX = margin + W / 2;
            const centerY = margin + H / 2;


          // Draw border
          doc.setDrawColor(0);
          doc.setLineWidth(0.7); // approx 2pt
          doc.rect(labelX, labelY, W, H, 'S');

          doc.setFont('helvetica', 'bold');

          doc.setFontSize(24);
          doc.text(productName, centerX, centerY - 20, { align: 'center' });

          doc.setFontSize(72);
          doc.text(color, centerX, centerY + 5, { align: 'center' });

          doc.setFontSize(36);
          doc.text(`BN${bn}`, centerX, centerY + 20, { align: 'center' });

          // Height indicator (left)
          doc.setFontSize(10);
          doc.text(`${H}mm`, labelX - 3, labelY + H / 2, { align: 'right' });

          // Width indicator (bottom)
          doc.text(`${W}mm`, labelX + W / 2, labelY + H + 5, { align: 'center' });

          doc.save('carton_label.pdf');
        };
      };
    </script>
  </body>
</html>
